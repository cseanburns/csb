<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Linux Filesystems and File Management - Linux Systems Administration</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="linux-sysadmin.html"><strong aria-hidden="true">1.</strong> Linux Systems Administration</a></li><li class="chapter-item expanded "><a href="p1-system-basics.html"><strong aria-hidden="true">2.</strong> System Basics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="01-history-linux-unix.html"><strong aria-hidden="true">2.1.</strong> History of Unix and Linux</a></li><li class="chapter-item expanded "><a href="02-quick-ssh-connect.html"><strong aria-hidden="true">2.2.</strong> Connect to a Remote Server</a></li><li class="chapter-item expanded "><a href="03-filesystem-file-management.html" class="active"><strong aria-hidden="true">2.3.</strong> Linux Filesystems and File Management</a></li><li class="chapter-item expanded "><a href="04-file-attributes.html"><strong aria-hidden="true">2.4.</strong> File Attributes</a></li><li class="chapter-item expanded "><a href="05-text-processing-part-1.html"><strong aria-hidden="true">2.5.</strong> Text Processing, Part 1</a></li><li class="chapter-item expanded "><a href="06-text-processing-part-2.html"><strong aria-hidden="true">2.6.</strong> Text Processing, Part 2</a></li><li class="chapter-item expanded "><a href="07-text-editors.html"><strong aria-hidden="true">2.7.</strong> Text Editors</a></li><li class="chapter-item expanded "><a href="08-revisiting-paths.html"><strong aria-hidden="true">2.8.</strong> Revisiting Paths</a></li><li class="chapter-item expanded "><a href="09-bash-scripting.html"><strong aria-hidden="true">2.9.</strong> Bash Scripting</a></li><li class="chapter-item expanded "><a href="10-regular-expressions.html"><strong aria-hidden="true">2.10.</strong> Regular Expressions</a></li></ol></li><li class="chapter-item expanded "><a href="p2-managing-services-software.html"><strong aria-hidden="true">3.</strong> Managing Services and Software</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="11-installing-linux.html"><strong aria-hidden="true">3.1.</strong> Installing Linux in VirtualBox</a></li><li class="chapter-item expanded "><a href="12-logical-volumes.html"><strong aria-hidden="true">3.2.</strong> Logical Volume Management</a></li><li class="chapter-item expanded "><a href="13-virtualbox-nat.html"><strong aria-hidden="true">3.3.</strong> Using NAT in VirtualBox</a></li><li class="chapter-item expanded "><a href="14-webconsole-nat.html"><strong aria-hidden="true">3.4.</strong> NAT Table in VirtualBox</a></li><li class="chapter-item expanded "><a href="15-managing-users-groups.html"><strong aria-hidden="true">3.5.</strong> Managing Users and Groups</a></li><li class="chapter-item expanded "><a href="16-systemd.html"><strong aria-hidden="true">3.6.</strong> systemd</a></li><li class="chapter-item expanded "><a href="17-backup-and-using-dnf.html"><strong aria-hidden="true">3.7.</strong> Backups and DNF</a></li></ol></li><li class="chapter-item expanded "><a href="p3-networking-security.html"><strong aria-hidden="true">4.</strong> Networking and Security</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="18-tcip-networking.html"><strong aria-hidden="true">4.1.</strong> TCIP Networking</a></li><li class="chapter-item expanded "><a href="19-networking-dns-domains.html"><strong aria-hidden="true">4.2.</strong> DNS and Domain Names</a></li><li class="chapter-item expanded "><a href="20-security-chroot.html"><strong aria-hidden="true">4.3.</strong> Security and chroot</a></li><li class="chapter-item expanded "><a href="21-security-firewall.html"><strong aria-hidden="true">4.4.</strong> Security and Firewalls</a></li></ol></li><li class="chapter-item expanded "><a href="p4-lamp.html"><strong aria-hidden="true">5.</strong> Creating a LAMP Server</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="22-httpd-apache.html"><strong aria-hidden="true">5.1.</strong> Apache2 Web Server</a></li><li class="chapter-item expanded "><a href="23-httpd-php.html"><strong aria-hidden="true">5.2.</strong> Apache2 and PHP</a></li><li class="chapter-item expanded "><a href="24-httpd-virtualhosts.html"><strong aria-hidden="true">5.3.</strong> Apache2 and Virtual Hosts</a></li><li class="chapter-item expanded "><a href="25-httpd-mysql.html"><strong aria-hidden="true">5.4.</strong> Apache2 and MySQL</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Linux Systems Administration</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-linuxunix-file-system-and-file-types"><a class="header" href="#the-linuxunix-file-system-and-file-types">The Linux/Unix File System and File Types</a></h1>
<p>In this demo, we will cover the:</p>
<ul>
<li>the Linux file system and how it is organized, and</li>
<li>the basic commands to work with directories and files</li>
</ul>
<p>Throughout this demonstration, I encourage you to <code>ssh</code> into our remote server and follow along with the commands that I use.</p>
<h2 id="visualizing-the-tree-structure"><a class="header" href="#visualizing-the-tree-structure">Visualizing the Tree Structure</a></h2>
<p>First, the term <strong>file system</strong> may refer to different concepts. In come cases, it refers to how data is <a href="https://en.wikipedia.org/wiki/File_system">stored and retrieved</a> on a device like a hard drive, USB drive, etc. For example, macOS uses the <a href="https://support.apple.com/guide/disk-utility/file-system-formats-available-in-disk-utility-dsku19ed921c/mac">Apple File System (APFS)</a> by default, and Windows uses the <a href="https://docs.microsoft.com/en-us/troubleshoot/windows-client/backup-and-storage/fat-hpfs-and-ntfs-file-systems">New Technology File System (NTFS)</a>. Linux and other unix-like operating systems use a variety of file systems. Presently, the two major ones include <strong>ext4</strong> and <strong>btrfs</strong>. The former is the default file system on distributions like <a href="https://www.debian.org/">Debian</a> and <a href="https://ubuntu.com">Ubuntu</a>, but the <a href="https://getfedora.org/">Fedora</a> distribution recently switched to the latter. <a href="https://opensource.com/article/18/4/ext4-filesystem">Opensource.com</a> has a nice overview of file systems under this concept, and we will learn how to use some of them later in the semester when we will create partitions, manage disk volumes, and learn about backups.</p>
<p>The other way that the term <strong>file system</strong> might be used is to refer to the directory structure of a system. This concept is not always directly related to the prior concept of a file system. For example, on Windows, the root file system is identified by a letter, like the <strong>C:</strong> drive regardless if the disk has a NTFS file system or a FAT file system. macOS adheres to a root file system like Linux and other unix-like operating systems. In these operating systems, we have a root, top-level directory identified by a <strong>/</strong>, and then sub-directories (or folders in GUI-speak) under that root directory. <a href="https://www.linux.com/tutorials/linux-filesystem-explained/">Linux.com</a> has a nice overview of the most common directory structure that Linux distributions use along with an explanation for the major bottom level directories.</p>
<p>On Linux, we can visualize the filesystem with the <code>tree</code> command. </p>
<ul>
<li><code>tree</code> : list contents of directories in a tree-like format
<ul>
<li><code>tree -dfL 1</code> : directories only, full path, one level</li>
</ul>
</li>
</ul>
<h3 id="the-root-directory-and-its-base-level-directories"><a class="header" href="#the-root-directory-and-its-base-level-directories">The root Directory and its Base Level Directories</a></h3>
<p>As explained on the Linux.com page, here are the major sub directories under <strong>/</strong>:</p>
<ul>
<li><code>/bin</code> : binary files needed to use the system</li>
<li><code>/boot</code>  : files needed to boot the system</li>
<li><code>/dev</code> : device files -- all hardware has a file</li>
<li><code>/etc</code> : system configuration files</li>
<li><code>/home</code> : user directories</li>
<li><code>/lib</code> : libraries/programs needed for other programs</li>
<li><code>/media</code> : external storage is mounted</li>
<li><code>/mnt</code> : other file systems may be mounted</li>
<li><code>/opt</code> : store software code to compile software</li>
<li><code>/proc</code> : files containing info about your computer</li>
<li><code>/root</code> : home directory of superuser</li>
<li><code>/run</code> : used by system processes</li>
<li><code>/sbin</code> : like <code>/bin</code>, binary files that require superuser privileges</li>
<li><code>/usr</code> : user binaries, etc that might be installed by users</li>
<li><code>/srv</code> : contains data for servers</li>
<li><code>/sys</code> : contains info about devices</li>
<li><code>/tmp</code> : temp files used by applications</li>
<li><code>/var</code> : variable files, used often for system logs</li>
</ul>
<p>Although there are 18 directories listed here and that stem from the root directory, there are some that we'll use much more often than others. For example, since the <strong>/etc</strong> directory contains system configuration files, we will use the contents of this directory, along with the <strong>/var</strong> directory, quite a bit when we set up our web servers, relational database servers, and more. The <strong>/home</strong> directory is where our default home directories are stored, and thus if you manage a multi-user system, like I do for this class, then this will be an important directory. </p>
<p>Source: [Linux Filesystem Explained][8]</p>
<h2 id="basic-directory-and-file-commands"><a class="header" href="#basic-directory-and-file-commands">Basic Directory and File commands</a></h2>
<p>In order to explore the above directories but also to create new ones and work with files, we need to know some basic commands. A lot of these commands are <a href="https://www.gnu.org/software/coreutils/manual/coreutils.html">GNU Coreutils</a>, and in this demo, we will specifically cover some of the following:</p>
<ul>
<li><a href="https://www.gnu.org/software/coreutils/manual/coreutils.html#Directory-listing">Directory Listing</a></li>
<li><a href="https://www.gnu.org/software/coreutils/manual/coreutils.html#Basic-operations">Basic Operations</a></li>
<li><a href="https://www.gnu.org/software/coreutils/manual/coreutils.html#Special-file-types">Special File Types</a></li>
<li><a href="https://www.gnu.org/software/coreutils/manual/coreutils.html#Printing-text">Printing Text</a></li>
</ul>
<h3 id="directory-listing"><a class="header" href="#directory-listing">Directory Listing</a></h3>
<p>We have a few options to list directories, but the most common command is the <code>ls</code> command, and we use it like so:</p>
<pre><code>ls
</code></pre>
<p>However, most commands can be used with <strong>options</strong>. In order to see what options are available for the <code>ls</code> command, we use look at it's <strong>man(ual) page</strong>:</p>
<pre><code>man ls

</code></pre>
<p>From the <code>ls</code> <strong>man page</strong>, we learn that we can use the <code>-l</code> option to format the output of the <code>ls</code> command as a long-list, or a list that provides more information about the files and directories in the working directory.</p>
<p>We can use the <code>-a</code> option to list hidden files. In Linux, hidden files are hidden from the default <code>ls</code> command if the files begin with a period. We have a number of those files in hour <strong>$HOME</strong> directories, and we can see them like so:</p>
<pre><code>ls -a
</code></pre>
<p>We can also combine options. For example, to view all files, including hidden ones, in the long-list format, we can use:</p>
<pre><code>ls -al
</code></pre>
<h2 id="basic-operations"><a class="header" href="#basic-operations">Basic Operations</a></h2>
<p>Some basic operation commands include:</p>
<ul>
<li><code>cp</code> for copying files and directories</li>
<li><code>mv</code> for moving (or renaming) files and directories</li>
<li><code>rm</code> for removing (or deleting) files and directories</li>
</ul>
<p>These commands also have various options that can be viewed in their respective <strong>man pages</strong>. See:</p>
<pre><code>man cp
man mv
man rm
</code></pre>
<p>Here are some ways to use these commands:</p>
<h3 id="copy"><a class="header" href="#copy">copy</a></h3>
<p>To copy an existing file to a new file:</p>
<pre><code>cp file.txt newfile.txt
</code></pre>
<h3 id="move"><a class="header" href="#move">move</a></h3>
<p>To move an existing file in our <strong>$HOME</strong> directory to a subdirectory, like into our <strong>public_html</strong> directory:</p>
<pre><code>mv file.html public_html/file.html
</code></pre>
<h3 id="rename"><a class="header" href="#rename">rename</a></h3>
<p>To rename a file, we also use the <code>mv</code> command:</p>
<pre><code>mv file.html newfile.html
</code></pre>
<h3 id="move-and-rename"><a class="header" href="#move-and-rename">move and rename</a></h3>
<p>To move and rename a file:</p>
<pre><code>mv file.html public_html/newfile.html
</code></pre>
<h3 id="remove-or-delete"><a class="header" href="#remove-or-delete">remove or delete</a></h3>
<p>Finally, to delete a file:</p>
<pre><code>rm file.html
</code></pre>
<h2 id="special-file-types"><a class="header" href="#special-file-types">Special File Types</a></h2>
<p>For now, let's only cover two commands here:</p>
<ul>
<li><code>mkdir</code> for creating a new directory </li>
<li><code>rmdir</code> for deleting a directory</li>
</ul>
<p>Like the above commands, these commands also have their own set of options that can be viewed in their respective <strong>man pages</strong>:</p>
<pre><code>man mkdir
man rmdir
</code></pre>
<h3 id="make-or-create-a-new-directory"><a class="header" href="#make-or-create-a-new-directory">make or create a new directory</a></h3>
<p>We use these commands like we do the ones above. If we are in our <strong>$HOME</strong> directory and we want to create a new directory, we do:</p>
<pre><code>mkdir documents
</code></pre>
<p>And if we run <code>ls</code>, we can see that it was successful.</p>
<h3 id="delete-a-directory"><a class="header" href="#delete-a-directory">delete a directory</a></h3>
<p>The <code>rmdir</code> command is a bit weird because it only removes <strong>empty</strong> directories. To remove the directory we just created, we use it like so:</p>
<pre><code>rmdir documents
</code></pre>
<p>However, if you want to remove a directory that contains files or other sub-directories, then you will have to use the <code>rm</code> command along with the <code>-r</code> option:</p>
<pre><code>rm -r directory-with-content
</code></pre>
<h2 id="printing-text"><a class="header" href="#printing-text">Printing Text</a></h2>
<p>There a number of ways to print text to <strong>standard output</strong>, which is our screen by default in the terminal. We could redirect standard output to a file or to a printer or to a remote shell. We'll get to examples like that later in the semester. Here let's cover two commands:</p>
<ul>
<li><code>echo</code> to print a line of text to standard output</li>
<li><code>cat</code> to concatenate and write files</li>
</ul>
<h3 id="print-to-screen"><a class="header" href="#print-to-screen">print to screen</a></h3>
<p>To use <code>echo</code>:</p>
<pre><code>echo &quot;hello world&quot;
echo &quot;Today is a good day.&quot;
</code></pre>
<h3 id="print-file-to-screen"><a class="header" href="#print-file-to-screen">print file to screen</a></h3>
<p><code>cat</code> is listed elsewhere in the GNU Coreutils page. The primary use of the <code>cat</code> command is to join, combine, or concatenate files, but if used on a single file, it has this nice side effect of printing the content of the file to the screen:</p>
<pre><code>cat file.html
</code></pre>
<p>If the file is very long, we might want to use a <strong>pager</strong>. There are a few options, but the <code>less</code> command is very useful:</p>
<pre><code>less file.html
</code></pre>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>In this demo, we learned about the file system or directory structure of Linux, and we also learned some basic command to work with directories and files. You should practice using these commands as much as possible. The more you use them, the easier it'll get. Also, be sure to review the <strong>man pages</strong> for each of the commands, especially to see what options are available for each of them.</p>
<p>Basic commands covered in this demo include:</p>
<ul>
<li><code>ls</code> : list </li>
<li><code>man</code> : manual pages</li>
<li><code>cp</code> : copy</li>
<li><code>mv</code> : move or rename</li>
<li><code>rm</code> : remove or delete a file or directory</li>
<li><code>mkdir</code> : create a directory</li>
<li><code>rmdir</code> : delete an empty directory</li>
<li><code>echo</code> : print a line of text</li>
<li><code>cat</code> : display contents of a file</li>
<li><code>less</code> : display contents of a file by page </li>
<li><code>tree</code> : list contents of directories in a tree-like format</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="02-quick-ssh-connect.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="04-file-attributes.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="02-quick-ssh-connect.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="04-file-attributes.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
